# Gridify  


## sample documentation 
For this page: There are code samples in colorized blocks, followed by the HTML table generated by the code sample.
```javascript
new Gridify({
    container : 'sample documentation',
    columns : [
        { field : 'col', header : { text : 'generated table', style : 'border-bottom: solid thin white' } }
    ],
    data : [
        { col : 'the colorized code sample shows how the grid is generated' },
        { col : 'and the grid just below shows the output' }
    ],
    style : 'background-color:#555; color:white;'
});
```
<div id='sample documentation'></div>

## .data
.data is an array of JSON objects. The grid will create one \<tr> per data item. With no columns defined, it will do its best to create one \<td> per property in the JSON object.
```javascript
let grid = new Gridify({
    data : [
        { name : 'This row', rowNumber : '1' },
        { name : 'That row', rowNumber : '2' }
    ]
});
let container = document.getElementById('.data-doc');
container.appendChild(grid.html);
```
<div id='.data-doc'></div>  

## .container
.container can be an HTML element or an .id used to select that element. If provided, the grid will append its generated HTML \<table> to the container element.
```javascript
let container = document.getElementById('.container-doc');
new Gridify({
    container : container || '.container-doc',
    data : [
        { a : 1, b : 2 }
    ]
});
```
<div id='.container-doc'></div>

## .columns 
.columns is an array of column definitions. When provided, they determine which columns are created and in what order. The 'field' property maps the column to an expected 
```javascript
new Gridify({
    container : '.columns-doc',
    columns : [
        { field : 'colB' }, 
        { field : 'colA' },
        // If colX is not a property in our data, we will see 'undefined' show up in the grid
        { field : 'colX' } 
    ],
    data : [
        { colA : 1, colB : 2, colC : 3 },
    ]
});
```
<div id='.columns-doc'></div>


## .column.header
column.header is used to define a header for a column. It can be a simple string to provide header text, or it can be an object to allow for expanded options.

```javascript
new Gridify({
    container : '.column.header-doc',
    columns : [
        { field: 'colA', header: 'Simple Text Header' },
        { field: 'colB', header : { text: 'More Complex Header', style : 'font-weight:bold; font-style:italic' }}
    ],
    data : [
        { colA : 'column A value', colB : 'column B value' }
    ]
});
```
<div id='.column.header-doc'></div>


## .column.footer
column.footer is used to define a footer for a column. It can be a simple string to provide footer text, or it can be an object to allow for expanded options.
```javascript
new Gridify({
    container : '.column.footer-doc',
    columns : [
        { field: 'colA', footer : 'Simple Text Footer' },
        { field: 'colB', footer : { text : 'More Complex Footer', style: 'font-weight:bold' } }
    ],
    data : [
        { colA : 'column A value', colB : 'column B value' }
    ]
});
```
<div id='.column.footer-doc'></div>

## .caption
.caption defines a table \<caption> element
```javascript
new Gridify({
    container : '.caption-doc',
    // caption : 'the caption can be basic text'
    caption : { text: 'the caption can be an object', style: 'width:200px;' },
    style: 'width: 400px'
});
``` 
<div id='.caption-doc'></div>

## events
There is an event hook for each aspect of table creation. The first argument for each event is the HTML element being created. The second argument is the definition object used to create that element. For example the 'options' parameter for onTableCreated is the argument passed to 'new Gridify(options);', and the 'columns' argument used by several events is options.columns.  
The event hooks allow for fine-tuned direct control over the table as it is being created.

```javascript
let events = [];
new Gridify({
    container : 'events-doc',
    caption : 'caption',
    columns : [
        {
            field : 'col',
            header : 'header',
            footer : 'footer'
        }
    ],
    data : [
        { col : 'col value' }
    ],
    onTableCreated : function(table, options) { events.push('Table Created'); },
    onCaptionCreated : function(table, caption) { events.push('Caption Created'); },
    onHeaderCreated : function(tHead, columns) { events.push('Header Created'); },
    onHeaderCellCreated : function(th, column) { events.push('Header Cell Created'); },
    onTableBodyCreated : function(tBody, columns) { events.push('Body Created'); },
    onTableRowCreated : function(tr, columns) { events.push('Row Created'); }, 
    onTableCellCreated : function(td, column) { events.push('Cell Created'); },
    onFooterCreated : function(tFoot, columns) { events.push('Footer Created'); },
    onFooterCellCreated : function(td, column) { events.push('Footer Cell Created'); }
});
document.getElementById('events-log').innerHTML = events.join('<br>');
```
<div id='events-doc'></div>

The events fire in the below order. Note that events like 'onTableCellCreated' execute before 'onTableRowCreated'. This is so that when onTableRowCreated executes, the \<tr> is already fully constructed rather than being empty.
<p id='events-log'></p>

## generated HTML 
The HTML generated by gridify is intended to be simple and easy to navigate or interact with programmatically. Here is a simple two-column data table with header and footer text. 
```javascript
    new Gridify({
        container : 'html-demo',
        columns : [
            { field : "columnA", header : 'Col A Header', footer : 'Col A Footer' },
            { field : "columnB", header : 'Col B Header', footer : 'Col B Footer' }
        ],
        data : [
            { columnA : 0, columnB : 1 },
            { columnA : 1, columnB : 0 }
        ]
    });
```
<div id='html-demo'></div>

And here is the generated html for it. The table id is the id for the container element with -grid suffixed onto it and the thead, tbody, and tfoot elements are similarly suffixed on to that. The table-rows in the tbody are numerically indexed. The table cells will be named after the 'field' value in their column definition if one is available, and otherwise they too will be numerically indexed. 
```html
<table id="html-demo-grid" style="border-collapse: collapse;">
    <thead id="html-demo-grid-thead">
        <tr>
            <th id="html-demo-grid-thead-columnA" style="text-align: center;">Col A Header</th>
            <th id="html-demo-grid-thead-columnB" style="text-align: center;">Col B Header</th>
        </tr>
    </thead>
    <tbody id="html-demo-grid-tbody">
        <tr id="html-demo-grid-tbody-0">
            <!-- if we had no column definitions, this would be html-demo-grid-tbody-0-0 -->
            <td id="html-demo-grid-tbody-0-columnA" style="text-align: left; text-overflow: ellipsis; white-space: nowrap;">0</td>
            <td id="html-demo-grid-tbody-0-columnB" style="text-align: left; text-overflow: ellipsis; white-space: nowrap;">1</td>
        </tr>
        <tr id="html-demo-grid-tbody-1">
            <td id="html-demo-grid-tbody-1-columnA" style="text-align: left; text-overflow: ellipsis; white-space: nowrap;">1</td>
            <td id="html-demo-grid-tbody-1-columnB" style="text-align: left; text-overflow: ellipsis; white-space: nowrap;">0</td>
        </tr>
    </tbody>
    <tfoot id="html-demo-grid-tfoot">
        <tr>
            <td id="html-demo-grid-tfoot-columnA" style="text-align: center;">Col A Footer</td>
            <td id="html-demo-grid-tfoot-columnB" style="text-align: center;">Col B Footer</td>
        </tr>
    </tfoot>
</table>
```
